public Financement patchFinancementChamps(String idFinancement, Financement financementToUpdate) {
    Financement existingFinancement = financementRepository.findByidFinancement(idFinancement).orElse(null);
    if (existingFinancement == null) {
        throw new FinancementNotFoundException(String.format("Le financement Ã  modifier %s est inexistant", idFinancement));
    }

    copyNonNullProperties(financementToUpdate, existingFinancement);

    // Enregistrer les modifications
    return financementRepository.save(existingFinancement);
}

private void copyNonNullProperties(Object source, Object target) {
    BeanWrapper src = new BeanWrapperImpl(source);
    PropertyDescriptor[] pds = src.getPropertyDescriptors();

    for (PropertyDescriptor pd : pds) {
        Object srcValue = src.getPropertyValue(pd.getName());
        if (srcValue != null) {
            BeanWrapper targetWrapper = new BeanWrapperImpl(target);
            targetWrapper.setPropertyValue(pd.getName(), srcValue);
        }
    }
}
