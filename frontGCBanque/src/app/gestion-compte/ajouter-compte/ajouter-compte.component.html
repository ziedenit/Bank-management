<!-- client-particulier.component.html -->
<div class="clientPE" *ngIf="clientParticulier">
  <div class="container-fluid mb-4">
    <div class="row">
      <div class="col-12">
        <div class="nav">
          <img *ngIf="!hiddenClient" src="../../../assets/icons/arrow-up.svg" (click)="hideDataClient()" />
          <img *ngIf="hiddenClient" src="../../../assets/icons/arrow-down.svg" (click)="showDataClient()" /> &nbsp;
          <p>Client ({{ idRepers.length }})</p>
        </div>
      </div>
    </div>
    <div class="row" *ngIf="elementClient">
      <div class="col-12">
        <ul class="list-group">
          <li class="list-group-item" *ngFor="let client of clientDataList">
            <div class="row">
              <div class="col">
                Nom &nbsp;&nbsp; <b>{{ client.civility }}.&nbsp; {{ client.nomUsageClient }} {{ client.prenomClient }}</b>
              </div>
              <div class="col">
                n√© (e) le : &nbsp;&nbsp; <b>{{ client.dateNaissanceClient }}</b>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <div *ngIf="errorrs.length > 0">
          <div class="error-message">
            <ul class="list-group">
              <li class="list-group-item" *ngFor="let error of errorrs">
                <div class="row">
                  <div class="col">
                    {{ error.messageErrorP }}
                  </div>
                  <div class="col">
                    idReper du Client: {{ error.idReperErrorP }}
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
//
// client-particulier.component.ts
import { Component, Input, OnInit } from '@angular/core';
import { ClientService } from '../services/client.service';

@Component({
  selector: 'app-client-particulier',
  templateUrl: './client-particulier.component.html',
  styleUrls: ['./client-particulier.component.css']
})
export class ClientParticulierComponent implements OnInit {
  @Input() idRepers: string[] = [];
  @Input() clientParticulier: boolean = false;

  clientDataList: any[] = [];
  errorrs: { idReperErrorP: string, messageErrorP: string }[] = [];
  hiddenClient = false;
  elementClient = true;

  constructor(private clientService: ClientService) {}

  ngOnInit() {
    this.idRepers.forEach(idReper => this.getClientData(idReper));
  }

  getClientData(idReper: string) {
    this.clientService.getClientData(idReper).subscribe(
      (data) => {
        this.clientDataList.push(data);
        console.log("le client particuliers", this.clientDataList);
      },
      (errorP) => {
        this.errorrs.push({ idReperErrorP: idReper, messageErrorP: 'Client Inconnu du SI LCL' });
      }
    );
  }

  showDataClient() {
    this.hiddenClient = false;
    this.elementClient = true;
  }

  hideDataClient() {
    this.hiddenClient = true;
    this.elementClient = false;
  }
}
// HTML du Composant Principal
<!-- app.component.html -->
<div class="main-container">
  <header>
    <app-header></app-header>
  </header>
  <main>
    <app-client-particulier [idRepers]="idRepers" [clientParticulier]="clientParticulier"></app-client-particulier>
  </main>
</div>
//
// app.component.ts
import { Component } from '@angular/core';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent {
  idRepers = ['123', '456', '789']; // Exemple d'ID de clients
  clientParticulier = true;

  constructor() {}
}
