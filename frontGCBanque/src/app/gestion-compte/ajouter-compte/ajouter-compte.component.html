	ligneContext: LigneContext =
		{
		    typeObjetFinancement: "",
		    dateDepotPc: new Date(''),
		    anneeConstruction: 0 ,
		    etiquetteDpe: '',
		    valeurCep: 0,
		    presenceDpe:true,
		    presenceDateDepotPc: false,
		    presenceAttestation: false,
		    normeThermique: '',
		    presenceDpeAvantTravaux: false,
		    presenceDpeApresTravaux: false,
		    gainCep: 0,
		    codeBatiment:''
	    };

		ligneContextXtra: LigneContextXtra =
		{
			typeObjetFinancement: '',
			codeBatiment: '',
			presenceDateDepotPc: false,
			presenceDateDepotPcJustificatif: false,
			dateDepotPc: new Date(''),
		    presenceDpe: false,
		    presenceDpeJustificatif: false,
			presenceNormeThermique: false,
			normeThermique: '',
			presenceNormeThermiqueJustificatif: false,
			anneeConstruction: 0,
			etiquetteDpe: '',
			valeurCep: 0,
			presenceDpeAvantTravaux: false,
			presenceDpeApresTravaux: false,
		    gainCep : 0,
	    };

		alignementResult: string ;
		alignementXtraResult: string;
		alignementResultText: string ;
		alignementXtraResultText: string ;
	    dateDepot:any;
		normeThermique:string;
		selectedCepList:string
		champSaisi:boolean;


	  showAlignement(): void {
		console.log("la valeur de mon dpe est", this.numeroDpeAdeme)
		     this.DpeResults=true;
		    this.elementResults=true;
		    const formData = this.formGroup.value;
			this.champObligatoire=false;
			this.ligneContext.anneeConstruction = formData.anneeConstruction;
			this.ligneContextXtra.anneeConstruction=formData.anneeConstruction;
			if(this.hideField==false){
			this.ligneContext.etiquetteDpe = formData.lettreCEP;
			this.ligneContextXtra.etiquetteDpe=formData.lettreCEP;}
			this.ligneContext.valeurCep = formData.valeurCEP;
			this.ligneContextXtra.valeurCep=formData.valeurCEP;

			if(this.codeBatimentSelected==='option1'){this.ligneContext.codeBatiment='00001'; this.ligneContextXtra.codeBatiment='00001'}
			if(this.codeBatimentSelected==='option2'){this.ligneContext.codeBatiment='00002';this.ligneContextXtra.codeBatiment='00002'}
			if(this.codeBatimentSelected==='option3'){this.ligneContext.codeBatiment='00003';this.ligneContextXtra.codeBatiment='00003'}
			if(this.codeBatimentSelected==='option4'){this.ligneContext.codeBatiment='00004';this.ligneContextXtra.codeBatiment='00004'}
			if(this.codeBatimentSelected==='option5'){this.ligneContext.codeBatiment='00005';this.ligneContextXtra.codeBatiment='00005'}
			if(this.codeBatimentSelected==='option6'){this.ligneContext.codeBatiment='00006';this.ligneContextXtra.codeBatiment='00006'}

			if(this.objetFinance==='Acquisition de bâtiment'|| this.selectedObjetFinancement==='option2' ){
				this.ligneContext.typeObjetFinancement='02';
				this.ligneContextXtra.typeObjetFinancement='02'
		    } else{

		    if(this.objetFinance==='Rénovation de bâtiment' || this.selectedObjetFinancement==='option3' ){
			this.ligneContext.typeObjetFinancement='03';
			this.ligneContextXtra.typeObjetFinancement='03';
			}}

			if(this.hideField==true){
			if(formData.lettreCEP==='option0'){
					this.ligneContext.etiquetteDpe=''
					this.ligneContextXtra.etiquetteDpe='';
				}

              if(formData.lettreCEP==='option1'){
				this.ligneContext.etiquetteDpe='A'
				this.ligneContextXtra.etiquetteDpe='A'
			  }
			  if(formData.lettreCEP==='option2'){
				this.ligneContext.etiquetteDpe='B'
				this.ligneContextXtra.etiquetteDpe='B'
			  }

			  if(formData.lettreCEP==='option3'){
				this.ligneContext.etiquetteDpe='C'
				this.ligneContextXtra.etiquetteDpe='C'
			  }
			  if(formData.lettreCEP==='option4'){
				this.ligneContext.etiquetteDpe='D'
				this.ligneContextXtra.etiquetteDpe='D'
			  }
			  if(formData.lettreCEP==='option5'){
				this.ligneContext.etiquetteDpe='E'
				this.ligneContextXtra.etiquetteDpe='E'
			  }
			  if(formData.lettreCEP==='option6'){
				this.ligneContext.etiquetteDpe='F'
				this.ligneContextXtra.etiquetteDpe='F'
			  }
			  if(formData.lettreCEP==='option7'){
				this.ligneContext.etiquetteDpe='G'
				this.ligneContextXtra.etiquetteDpe='G'
			  }
			}


		   if(this.dateDepot===undefined || this.dateDepot===""|| this.dateDepot===null){
			   this.ligneContext.presenceDateDepotPc=false;
			   this.ligneContext.dateDepotPc=null;

			   this.ligneContextXtra.presenceDateDepotPc=false;
			   this.ligneContextXtra.dateDepotPc=null;
		   }

		    else{
			this.ligneContext.presenceDateDepotPc=true;
			this.ligneContext.dateDepotPc=this.dateDepot;

			this.ligneContextXtra.presenceDateDepotPc=true;
			this.ligneContextXtra.dateDepotPc=this.dateDepot;
		   }

		if(this.normeThermique===undefined || this.normeThermique===null){
			this.ligneContext.presenceAttestation=false;
			this.ligneContext.normeThermique=null;

			this.ligneContextXtra.presenceNormeThermique=false;
			this.ligneContextXtra.normeThermique=null;

		} else{
		   this.ligneContext.presenceAttestation=true;
           this.ligneContextXtra.presenceNormeThermique=true;

		   if(this.normeThermique==='option1'){
			this.ligneContext.normeThermique='2012';
			this.ligneContextXtra.normeThermique='2012'
		   }else{
			if (this.normeThermique==='option2'){
			this.ligneContext.normeThermique='2020';
			this.ligneContextXtra.normeThermique='2020'
		   }
		   else{
			this.ligneContext.normeThermique='';
			this.ligneContextXtra.normeThermique=''
		   }
		}
		  }
		  if(this.numeroDpeAdeme===undefined ||this.numeroDpeAdeme==null ||this.numeroDpeAdeme=="" ){
			this.ligneContext.presenceDpe=false;
			this.ligneContextXtra.presenceDpe=false;

		} else{
		   this.ligneContext.presenceDpe=true;
		   this.ligneContextXtra.presenceDpe=true;
		  }

         //controler la présence de justificatif DPE ou compromis de vente si numéro ADEME renseigné
		  if (!this.dpeFileName || this.dpeFileName.trim() === ''){
			  this.ligneContextXtra.presenceDpeJustificatif=false;
		  }else{
			this.ligneContextXtra.presenceDpeJustificatif=true;
			  }


        //  controler la présence d'un justificatif attestant de la date de dépôt de permis de construire
          if (!this.dateDepotFileName || this.dateDepotFileName.trim() === ''){
			  this.ligneContextXtra.presenceDateDepotPcJustificatif=false;
		}else{
			this.ligneContextXtra.presenceDateDepotPcJustificatif=true;
			  }


		//controler la présence de justificatif Norme thermique (si le justificatif date depot pc est présent==> justificatif NTh=true)
		if(this.dateDepot && (this.dateDepotFileName || !(this.dateDepotFileName.trim() === ''))){
			this.ligneContextXtra.presenceNormeThermiqueJustificatif=true;
		}
		else{
		if (!this.dateDepot && this.NormethermiqueFileName || !(this.NormethermiqueFileName.trim() === '')) {
				this.ligneContextXtra.presenceNormeThermiqueJustificatif=true;
		}
		else{ this.ligneContextXtra.presenceNormeThermiqueJustificatif=false
			 }
	   }
		this.engineService.alignement(this.ligneContext) .subscribe(aligne => {
			if(aligne==="01"){
			this.alignementResultText="Eligible et aligné à la Taxonomie";
			this.alignementResult="01"}

			if(aligne==="06"){
		     this.alignementResultText="Eligible et non aligné à la Taxonomie ";
			 this.alignementResult="06"}

			if(aligne==="07"){
			 this.alignementResultText="Eligible et alignement à la Taxonomie non évalué ";
			 this.alignementResult="07"}

			console.log('LineContext',this.ligneContext )
			console.log('Alignement Simulé', this.alignementResult);
		  });


		this.engineServiceXtra.alignementXtra(this.ligneContextXtra).subscribe(aligneXtra => {
		    if(aligneXtra==="01"){this.alignementXtraResultText="Aligné à la Taxonomie"; this.alignementXtraResult="01"}
			if(aligneXtra==="06"){this.alignementXtraResultText="Non aligné à la Taxonomie " ; this.alignementXtraResult="06"}
			if(aligneXtra==="07"){this.alignementXtraResultText="Alignement à la Taxonomie non évalué " ;this.alignementXtraResult="07"}

			console.log('LineContext XTRA',this.ligneContextXtra )
			console.log('Alignement XTRA', aligneXtra);
		  })
    // je veux developper un test unitaire pour ca 
