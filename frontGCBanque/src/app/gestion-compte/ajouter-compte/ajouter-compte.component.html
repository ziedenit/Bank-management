
//
import { Component, OnInit } from '@angular/core';
import { ActivatedRoute } from '@angular/router';
import { FinancementService } from 'chemin/vers/votre/service/financement.service';

@Component({
  selector: 'app-votre-composant',
  templateUrl: './votre-composant.component.html',
  styleUrls: ['./votre-composant.component.css']
})
export class VotreComposantComponent implements OnInit {

  financementId: string;
  objetsFinancement: any[]; // Assurez-vous que ce type correspond à la structure de vos objets de financement
  objetFinancementSelectionneIndex: number;

  constructor(private route: ActivatedRoute, private financementService: FinancementService) { }

  ngOnInit(): void {
    this.financementId = this.route.snapshot.params['id']; // À adapter en fonction de votre configuration de routage

    // Récupérer la liste des objets de financement
    this.financementService.getObjetsFinancementByFinancementId(this.financementId).subscribe(
      (objetsFinancement) => {
        this.objetsFinancement = objetsFinancement;
      },
      (error) => {
        console.error('Une erreur s\'est produite lors de la récupération des objets de financement :', error);
      }
    );
  }

  onObjetFinancementSelectionne(index: number): void {
    this.objetFinancementSelectionneIndex = index;
  }

}

//
/* Ajoutez ces styles pour gérer le changement de couleur */
.breadcrumb-item.selected {
  color: blue !important; /* Change la couleur du texte pour les éléments sélectionnés */
}

.breadcrumb-item:not(.selected) {
  color: grey !important; /* Change la couleur du texte pour les éléments non sélectionnés */
}

/* Ajoutez ces styles pour rendre le design responsive */
.breadcrumb-item {
  display: inline-block;
  padding: 0.5rem 1rem;
  font-size: 16px;
}

@media (max-width: 768px) {
  .breadcrumb-item {
    font-size: 14px; /* Réduit la taille du texte pour les écrans plus petits */
  }
}
//
import { Observable } from 'rxjs';
import { HttpClient, HttpHeaders } from '@angular/common/http';
import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root'
})
export class FinancementService {

  private financementObjetURL = "http://localhost:8081/api/v1/financement/objets_financement/";

  constructor(private http: HttpClient) { }

  httpOptions = {
    headers: new HttpHeaders({
      'Content-Type': 'application/json',
      'Authorization': 'Basic ' + btoa('user1:user1Pass')
    })
  };

  getObjetsFinancementByFinancementId(idFinancement: string): Observable<any[]> {
    const url = `${this.financementObjetURL}${idFinancement}`;
    return this.http.get<any[]>(url, this.httpOptions);
  }
}
// hmtl
      <div>
  <!-- Fil d'Ariane -->
  <nav *ngIf="objetsFinancement && objetsFinancement.length > 1" aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item" *ngFor="let objet of objetsFinancement; let i = index"
          [ngClass]="{'selected': i === objetFinancementSelectionneIndex}" (click)="onObjetFinancementSelectionne(i)">
        <a>{{ objet.nom }}</a> <!-- À adapter en fonction de votre structure d'objet de financement -->
      </li>
    </ol>
  </nav>

  <!-- Détails de l'objet de financement sélectionné -->
  <div *ngIf="objetFinancementSelectionneIndex !== undefined">
    <h2>Détails de l'objet de financement sélectionné :</h2>
    <!-- Affichez ici les détails de l'objet de financement sélectionné -->
    <p>{{ objetsFinancement[objetFinancementSelectionneIndex].nom }}</p> <!-- Exemple de détail, à adapter en fonction de votre structure d'objet de financement -->
  </div>
</div>
